!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Fetch2=e()}(this,function(){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function a(t){this.value=t}function t(r){var i,u;function f(t,e){try{var n=r[t](e),o=n.value;o instanceof a?Promise.resolve(o.value).then(function(t){f("next",t)},function(t){f("throw",t)}):c(n.done?"return":"normal",n.value)}catch(t){c("throw",t)}}function c(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?f(i.key,i.arg):u=null}this._invoke=function(o,r){return new Promise(function(t,e){var n={key:o,arg:r,resolve:t,reject:e,next:null};u?u=u.next=n:(i=u=n,f(o,r))})},"function"!=typeof r.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}();function i(t,e){if("object"===(void 0===t?"undefined":c(t))&&(i=t,"[object Array]"!==Object.prototype.toString.call(i))){var n=(o=function t(e){var n=[];for(var o in e)"object"===c(e[o])?n.push({label:o,child:t(e[o])}):n.push({label:o,val:e[o]});return n}(t),r=[],function t(e,n){for(var o in n=n||"",e)e[o].child?t(e[o].child,n?n+"["+e[o].label+"]":e[o].label):n?r.push(n+"["+e[o].label+"]="+e[o].val):r.push(e[o].label+"="+e[o].val)}(o),r).join("&");return e?encodeURI(n):n}var o,r,i;return""}var a={url:function(t,e,n){var o=i(e,n);if(-1<t.indexOf("?")){var r=t.split("?");return o?t.replace(/&$/,"")+(r[1]?"&":"")+o:t}return o?t+"?"+o:t},stringify:function(t,e){return i(t,e)}},s=function(i){if("[object Array]"!==Object.prototype.toString.call(i))throw new TypeError("Middleware stack must be an array!");for(var t in i)if("function"!=typeof i[t])throw new TypeError("Middleware must be composed of functions!");return function(n,o){var r=-1;!function t(e){if(e<=r)throw new Error("next() called multiple times");if((r=e)>=i.length)return o(n);(0,i[e])(n,function(){t(e+1)})}(0)}},e="object"===("undefined"==typeof self?"undefined":c(self))&&self.self===self&&self,n="object"===(void 0===t?"undefined":c(t))&&t.global===t&&t,o=e||n,p=o.fetch||null,l=o.FormData;function r(){}return r.prototype.request={interceptors:[],use:function(t){return"function"!=typeof t?(console.warn("the interceptors must be a function"),!1):(this.interceptors.push(t),!0)}},r.prototype.response={interceptors:[],use:function(t){return"function"!=typeof t?(console.warn("the interceptors must be a function"),!1):(this.interceptors.push(t),!0)}},r.prototype.fetch=function(r,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u=this;"GET"!==(t=t?t.toUpperCase():"GET")&&"HEAD"!==t||delete i.body;var e="object"===c(i.body)&&!(i.body instanceof l);(e||"string"==typeof i.body)&&(i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded"),e&&(i.body=a.stringify(i.body)),i.method=t;var f=i;return new Promise(function(e,n){function o(t){s(u.response.interceptors)(t,function(t){e(t)})}s(u.request.interceptors)(f,function(t){var e=a.url(r,f.params,!0);p(e,f).then(function(e){switch(i.type){case"text":e.text().then(function(t){e.data=t,o(e)});break;case"blob":e.blob().then(function(t){e.data=t,o(e)});break;case"arrayBuffer":e.arrayBuffer().then(function(t){e.data=t,o(e)});break;default:e.json().then(function(t){e.data=t,o(e)}).catch(function(t){return n(t)})}}).catch(function(t){n(t)})})})},r.prototype.URLParams=a,r.prototype.init=function(t,e){p=t,l=e},(r.prototype.Fetch2=r).prototype.get=function(t,e){return this.fetch(t,"GET",e)},r.prototype.post=function(t,e){return this.fetch(t,"POST",e)},r.prototype.put=function(t,e){return this.fetch(t,"PUT",e)},r.prototype.delete=function(t,e){return this.fetch(t,"DELETE",e)},r.prototype.head=function(t,e){return this.fetch(t,"HEAD",e)},r.prototype.patch=function(t,e){return this.fetch(t,"PATCH",e)},new r});
//# sourceMappingURL=fetch2.min.js.map
